---
extensions:
  markdown:
    toc: true

---

<h1 id="tabla-de-contenidos">Tabla de Contenidos</h1>
<ol>
<li><a href="#objetivo-general-del-desarrollo">Objetivo general del desarrollo</a></li>
<li><a href="#detalles-inherentes-a-la-landing-page">Detalles inherentes a la Landing Page</a>
<ul>
<li><a href="#detalles-de-las-pesta%C3%B1as-que-contendr%C3%A1-la-landing-page">Detalles de las pestañas que contendrá la landing page</a></li>
<li><a href="#detalles-de-las-funciones-que-realizar%C3%A1-la-landing-page-y-sus-secciones">Detalles de las funciones que realizará la landing page y sus secciones</a></li>
<li><a href="#resumen-de-tecnolog%C3%ADas-a-usarse-en-la-landing-page">Resumen de tecnologías a usarse en la landing page</a></li>
</ul>
</li>
<li><a href="#detalles-inherentes-al-saas">Detalles inherentes al SaaS</a>
<ul>
<li><a href="#modelo-de-suscripci%C3%B3n-y-perfilamiento-del-administrador">Modelo de Suscripción y Perfilamiento del Administrador</a></li>
<li><a href="#gesti%C3%B3n-de-identidad-operativa-y-personal-de-staff-non-billable-users">Gestión de Identidad Operativa y Personal de Staff (Non-Billable Users)</a></li>
<li><a href="#arquitectura-de-polimorfismo-de-roles-y-conmutaci%C3%B3n-de-contexto-context-switching">Arquitectura de Polimorfismo de Roles y Conmutación de Contexto</a></li>
<li><a href="#gesti%C3%B3n-de-n%C3%BAcleo-familiar-y-co-responsabilidad-digital-delegaci%C3%B3n-de-identidad">Gestión de Núcleo Familiar y Co-Responsabilidad Digital</a></li>
</ul>
</li>
</ol>
<h1 id="objetivo-general-del-desarrollo">Objetivo general del desarrollo:</h1>
<p>El objetivo general de este desarrollo es la creación de un ecosistema SaaS bajo el dominio <a href="http://mascondominios.com.ve">mascondominios.com.ve</a>, el cual albergará una Landing Page que promocionará un software para administración de condominios en la República Bolivariana de Venezuela. En términos de SEO, la Landing Page tendrá una máxima relevancia, ya que será la página encargada de promover la conversión de un visitante (cliente potencial) a un cliente registrado (usuario) que adquiera un plan para usar el SaaS.</p>
<p>Este software se comercializará como un SaaS (Software como Servicio) ofreciendo un modelo de <strong>Precios Dinámicos por Volumen</strong>, donde el costo se ajusta automáticamente a la cantidad real de inmuebles gestionados, permitiendo que un mismo usuario excepto las comunidades autogestionadas administre múltiples propiedades con facturación consolidada, permitiendo que un mismo usuario administre múltiples propiedades con ciclos de facturación independientes. Dentro de ese dominio habrá un subdominio bajo la forma <a href="http://app.mascondominios.com.ve">app.mascondominios.com.ve</a>, el cual albergará el SaaS. Este llevará la mayor cantidad de trabajo en términos de lógica, ya que será el encargado de realizar las funciones de cálculo para la administración de condominios como tal, y al cual solo podrán acceder los usuarios ya registrados que cuenten con un plan activo, así como aquellos usuarios que activen el modo prueba (limitado a 5 días).</p>
<p>En términos de SEO, es preciso dejar claro que <a href="http://app.mascondominios.com.ve">app.mascondominios.com.ve</a> no se indexará para evitar el contenido duplicado en buscadores. A su vez, se creará una aplicación nativa tanto para el uso de los administradores de condominio como de los miembros de la comunidad. Esta aplicación debe ser, así como la interfaz de la Landing Page y el Frontend del SaaS, sumamente atractiva y dinámica, y debe mantener la misma estética visual que conservan entre sí la Landing Page y el Frontend del SaaS.</p>
<h1 id="detalles-inherentes-a-la-landing-page">Detalles inherentes a la Landing Page:</h1>
<p>Su nombre de dominio será <a href="http://mascondominios.com.ve">mascondominios.com.ve</a>. Se prevé que esta Landing Page tome algunos datos del subdominio <a href="http://app.mascondominios.com.ve">app.mascondominios.com.ve</a>, como la <strong>Calculadora de Precios Interactiva</strong>, que permitirá al visitante estimar su inversión mensual moviendo un deslizador (Slider) según su número de inmuebles, mostrando el costo en tiempo real tanto en divisas como en Bolívares. Para lograr esto sin sacrificar el rendimiento, se implementará la arquitectura de ‘Islas de Interactividad’ (Islands Architecture) de Astro. El sitio permanecerá mayoritariamente estático (HTML puro) para garantizar la máxima velocidad y relevancia SEO; sin embargo, la sección de precios actuará como un componente dinámico aislado (React Island) que consultará en tiempo real la API pública del Backend para mostrar siempre la tasa del día y los costos vigentes, evitando discrepancias de información entre lo que se ofrece y lo que se cobra, sin necesidad de reconstruir la página web cada vez que el dólar fluctúe.</p>
<p>No obstante, se implementará una estrategia de ‘Static Fallback’ (Respaldo Estático): el proceso de compilación (Build) será disparado automáticamente mediante un ‘Webhook’ cada vez que el sistema central detecte un cambio oficial en la tasa de cambio, ‘quemando’ en el HTML el precio del momento; de esta forma, si la Isla de React falla al conectar, el usuario verá ese precio guardado en lugar de un error.</p>
<p>Ello sin perjudicar un factor crucial y determinante: Google Core Web Vitals. Será una página sumamente atractiva para Google tanto en términos de lenguaje actualizado 2025 como en estructura y funciones, ya que el objetivo de esta Landing Page es posicionarse de primera ante una competencia ya bien posicionada. Por esta razón, deben implementarse las últimas tecnologías de la mano de la inteligencia artificial para lograr que ese posicionamiento sea potenciado por AI, pues el propósito más allá de su funcionalidad es usar la IA como una herramienta de apoyo para generar ideas, optimizar títulos/metas y analizar datos, pero manteniendo la supervisión y estrategia humana como pilares. Ya que el trabajo de SEO es un trabajo dedicado y sumamente exigente, se prevé desde la fase de diseño que esta página cumpla con los parámetros de etiquetas de <a href="http://schema.org">schema.org</a>, de manera tal que Google sea sumamente empático con esta página. También debe cumplir con los parámetros de Core Web Vitals de Google de manera que esto garantice que esta página indexe y posicione de primera en el sector en un tiempo récord; si esto no se logra, simplemente la página no cumple su objetivo.</p>
<p>El aspecto de la página debe ser sumamente atractivo, profesional y muy moderno. Debe proyectar: seguridad, conocimiento, profesionalismo, prosperidad, eficiencia y solución. Para ello deben adoptarse colores y una estética visual que ya estén estudiados y sea conocido que tienen en la psicología del visitante un impacto relajante en el ser humano, y toda su arquitectura debe estar inspirada en que la persona, apenas entre en contacto con la página, sienta que ha llegado a una solución definitiva en materia de condominios. Queda descartado el uso de paletas genéricas y plantillas estándares. Hay que tomar en consideración que, en el contexto de la administración de condominios, la mayoría de personas que se dedican a este tipo de actividades son de sexo femenino; por lo tanto, esto debe ser tomado en consideración en el diseño de la Landing Page, ya que esta debe enganchar y cautivar. Crear una sensación de que es un software sin fricción, que ayudará al usuario a cumplir de manera eficaz, rápida y segura su trabajo. Para el diseño de esta Landing Page se debe tomar en consideración la última actualización de las recomendaciones de Google en materia de SEO. Es de destacar que esta Landing Page debe desde su inicio proyectarse para ser amigable y responsiva ante los dispositivos móviles de gama media disponibles en Venezuela, pues se prevé que la mayor parte de tráfico lo realicen usuarios desde este tipo de dispositivos, sin descartar naturalmente el uso de computadoras de escritorio.</p>
<h2 id="detalles-de-las-pestañas-que-contendrá-la-landing-page">Detalles de las pestañas que contendrá la landing page:**</h2>
<p>Las pestañas que contendrá serán: Quienes somos, Planes y paquetes, Recursos, Funciones que realiza el software, Preguntas frecuentes. Con la finalidad de visualizar mejor esta estructura que tendrá la Landing Page, se generarán previamente bocetos “wireframes” para tener una clara noción del aspecto que tendrá cada sección antes de iniciar la codificación. Se debe comentar el código con suficiente pericia a fin de garantizar futuras labores de mantenimiento. No hay que perder el enfoque de que esta Landing Page será visible desde equipos fijos así como móviles.</p>
<h2 id="detalles-de-las-funciones-que-realizará-la-landing-page-y-sus-secciones">Detalles de las funciones que realizará la landing page y sus secciones:**</h2>
<p>Captar la atención del usuario y convertirlo (lograr que se registre inmediatamente), brindarle información oportuna y fresca de las bondades del SaaS, hacerle entender en los primeros segundos de su estancia en el portal que esta herramienta SaaS la necesita, es segura y fácil de usar, sobre todo que está a su alcance presupuestario.</p>
<h2 id="resumen-de-tecnologías-a-usarse-en-la-landing-page">Resumen de tecnologías a usarse en la landing page:**</h2>
<p>Tecnología Astro separada del SaaS. Python no pinta nada aquí. Astro es HTML puro para SEO máximo. Para la integración de datos en vivo (como los precios de los planes), se utilizarán componentes de React encapsulados dentro de Astro (Islands), los cuales consumirán la API del SaaS mediante peticiones cliente (Client-side fetching), manteniendo el resto del sitio estático y veloz.</p>
<h1 id="detalles-inherentes-al-saas"><strong>Detalles inherentes al SaaS:</strong></h1>
<h2 id="modelo-de-suscripción-y-perfilamiento-del-administrador"><strong>Modelo de Suscripción y Perfilamiento del Administrador:</strong></h2>
<p>Para soportar la escalabilidad comercial, el sistema implementará una lógica de ‘Suscripción por Entidad’. Al registrarse, el usuario definirá su perfil (Administrador Independiente, Junta de Condominio o Gran Empresa). Posteriormente, podrá registrar múltiples condominios bajo su misma cuenta, pero cada condominio funcionará como una instancia facturable independiente. El sistema implementará una lógica de <strong>‘Capacidad Contratada Dinámica’</strong>. Al registrar un condominio, el usuario no elige una caja cerrada; define mediante un control deslizante la cantidad exacta de unidades (apartamentos/locales) que gestionará. El sistema calcula el precio unitario basándose en <strong>Escalas de Volumen (Tiers)</strong>: a mayor cantidad de unidades, menor es el costo unitario. El ciclo de vida sigue siendo aislado por condominio, pero la capacidad es elástica (puede crecer o disminuir). El sistema gestionará los ciclos de vida de forma aislada: si el plan del ‘Condominio A’ vence, el acceso administrativo a dicho condominio se bloqueará hasta su renovación, sin afectar el acceso ni la operatividad del ‘Condominio B’ que se encuentre solvente. Este software que se creará será sumamente rápido y poco exigente para el servidor donde estará instalado. Como se detalló antes, este SaaS se albergará en un subdominio <a href="http://app.mascondominios.com.ve">app.mascondominios.com.ve</a>. Esto para cumplir con los estándares de la industria respecto a la interfaz de este software; tiene que ser una interfaz que haga sentir al usuario que está gestionando recursos con una herramienta sumamente avanzada y profesional, mas sin embargo, a pesar de ser tan avanzada y profesional, es una herramienta amigable y simplificada para que el usuario pase la menor cantidad de tiempo frente a la interfaz cargando datos. Al igual que la Landing Page, debe ser una interfaz muy bonita, muy versátil y muy moderna, con colores que le hagan sentir a la persona que la está usando que está utilizando una herramienta vanguardista profesional, que le haga sentir por los colores y el diseño que es la solución definitiva.</p>
<p>Dependiendo de la interfaz, más allá de las funciones, esta herramienta va a fidelizar al usuario; por tanto, la arquitectura, los colores, el estilo y los botones que se utilicen tienen que ir enfocados en el confort del usuario. El usuario no puede sentirse perdido en ningún momento y tampoco puede experimentar una interfaz técnica y rígida que lo aleje, que lo ponga a estudiar manuales y que lo ponga incluso a reformular la forma tradicional en que ya trabaja.</p>
<p>Para potenciar esta comodidad, y dado el enfoque Multi-tenant, se configurará una arquitectura de ‘Usuarios Compartidos’ (Shared Users) en el esquema público de la base de datos. Esta arquitectura será transversal: beneficiará tanto al Administrador (permitiéndole gestionar su cartera de múltiples condominios con un solo login) como a los Propietarios (permitiéndoles visualizar sus distintas propiedades en diferentes edificios sin cerrar sesión), evitando la fatiga de múltiples registros.</p>
<p><em>“Excepción de Lógica de Negocio para Autogestión: Si el usuario selecciona el perfil ‘Comunidad Autogestionada’ o ‘Junta de Condominio’ durante el registro, el sistema aplicará una restricción estricta de Single-Tenant. Este perfil no tendrá acceso al ‘Hub de Condominios’ y será redirigido directamente al Dashboard de su única propiedad. Se inhabilitará la opción de ‘Agregar Nuevo Condominio’ para este rol.”</em>  <em>GlobalUser</em></p>
<p>Este software en primer lugar será Multi-tenant y Multi-currency. Debe competir con otras soluciones ya bien posicionadas; la estrategia para competir va a ser verificar las funciones que ofrecen estas opciones bien posicionadas, y hacer ingeniería inversa de los procesos, funciones y módulos, así como soluciones que la competencia ya ofrece, pero con una variante: se reformularán y se re-ingeniarán de una manera más sencilla e intuitiva para el usuario. Esto se hará de la mano de la inteligencia artificial para aliviar el trabajo del ser humano.</p>
<h2 id="gestión-de-identidad-operativa-y-personal-de-staff-non-billable-users"><strong>Gestión de Identidad Operativa y Personal de Staff (Non-Billable Users):</strong></h2>
<p>Para completar el ecosistema de gestión, el sistema contempla una categoría especial de usuarios denominada <strong>Staff Operativo</strong> (Vigilantes, Conserjes, Personal de Mantenimiento y <strong>Asistentes Administrativos/Contables</strong>). A diferencia de los Administradores (que pagan suscripción) o los Propietarios (vinculados legalmente a una unidad), estos usuarios representan recursos laborales transitorios con alta rotación. Por ende, su lógica de acceso se rige por el principio de <strong>“Invitación Controlada y Revocación Inmediata”</strong>. Estos perfiles no pasan por el flujo de registro público ni requieren correo electrónico obligatorio, eliminando la fricción tecnológica. Su alta en el sistema se realiza exclusivamente mediante una invitación unidireccional disparada por el Administrador Principal desde el Backend. A nivel de arquitectura de datos, estos perfiles poseen un TenantProfile con roles restringidos (STAFF_SECURITY, STAFF_MAINTENANCE, ADMIN_ASSISTANT) y, crucialmente, mantienen el campo de vinculación de unidad (unit_id) como valor NULO, ya que su permiso es laboral y no sobre una propiedad privada.</p>
<p><strong>Tecnología Aplicada:</strong> Para el enrolamiento (Onboarding), se utilizará el <strong>Microservicio de WhatsApp (Gateway Multi-Tenant)</strong> integrado en la arquitectura del sistema. Aprovechando la sesión de WhatsApp vinculada del propio condominio (Línea Central o Número del Edificio), el sistema enviará las credenciales de acceso automatizadas directamente al número móvil del empleado. Esto garantiza que la invitación provenga de un remitente conocido por el trabajador y elimina los costos transaccionales asociados a proveedores externos.<br>
Para la seguridad de la sesión, dado que estos usuarios suelen operar desde dispositivos personales (BYOD), se implementará un esquema de autenticación robusto mediante <strong>Tokens JWT de Larga Duración</strong> acoplados a una estrategia estricta de <strong>Listas Negras en Redis (Token Blacklisting)</strong>. Esto permite que el Administrador tenga un botón de “Kill-Switch” (Despido/Revocación): al activarlo, el Backend inyecta el token del empleado en Redis, forzando el cierre de sesión inmediato en la App o Web, impidiendo el acceso a los datos sensibles o físicos del condominio en tiempo real.</p>
<p><strong>Ejemplo Práctico de Uso:</strong> El condominio contrata al Sr. Pedro para vigilancia. La Administradora entra al panel web, módulo “Personal”, e ingresa: “Pedro Pérez” y su número celular. El sistema genera internamente el usuario y dispara un mensaje de WhatsApp (desde el número del condominio) al teléfono de Pedro: <em>“Bienvenido. Tu usuario es tu celular y tu clave temporal es 1234”</em>. Pedro ingresa sus datos y accede inmediatamente a una interfaz simplificada donde solo ve sus tareas de seguridad. Al finalizar su contrato, la Administradora presiona “Revocar Acceso”. El sistema expulsa a Pedro inmediatamente y sus credenciales quedan invalidadas.</p>
<h2 id="arquitectura-de-polimorfismo-de-roles-y-conmutación-de-contexto-context-switching"><strong>Arquitectura de Polimorfismo de Roles y Conmutación de Contexto (Context Switching):</strong></h2>
<p>Dada la complejidad orgánica de las comunidades en Venezuela, el sistema debe superar el modelo tradicional “1 Usuario = 1 Rol”. La arquitectura soportará escenarios de <strong>Identidad Única con Roles Múltiples Concurrentes</strong> dentro de un mismo Tenant. Esto es fundamental para resolver conflictos de interés y segregación de funciones en casos donde un individuo ostenta simultáneamente responsabilidades administrativas, operativas y derechos de propiedad (ej: un Administrador que también es propietario, o un residente contratado como personal de mantenimiento).</p>
<p>Bajo este esquema, la “Identidad” (GlobalUser) permanece única para garantizar la trazabilidad legal y el acceso con una sola contraseña, pero se disocia de la “Función” (TenantProfile). El sistema permitirá que existan múltiples registros de perfil vinculados al mismo usuario dentro del mismo condominio, siempre que el rol sea distinto. Esto obliga a implementar una lógica de <strong>“Muralla China” (Chinese Wall)</strong> de información: cuando el usuario opera bajo un perfil, el sistema debe ocultar y bloquear estrictamente los datos y funciones pertenecientes a su otro perfil, evitando la contaminación de datos o privilegios cruzados no autorizados.</p>
<p><strong>Tecnología Aplicada:</strong> Para gestionar esta complejidad sin fricción, se implementará en el Frontend (React) un patrón de <strong>Gestión de Estado Global</strong> (usando Context API o Zustand) que almacene el current_profile_id activo. La interfaz de usuario incorporará un componente de <strong>“Conmutador de Contexto” (Profile Switcher)</strong> en la barra de navegación, similar a la gestión de cuentas de Google, permitiendo el cambio en caliente (Hot-Swapping) sin cerrar sesión.<br>
En el Backend (Django), las consultas a la base de datos y los Decoradores de Permisos no validarán solo contra el request.user (que es estático), sino contra el perfil activo enviado en las cabeceras de la petición (X-Current-Profile), aplicando una validación de seguridad de doble factor: <em>“¿Eres quien dices ser (Auth) Y estás actuando bajo el perfil correcto para esta operación (Scope)?”</em>. A nivel de base de datos, esto se blinda reemplazando las restricciones de unicidad simples por <strong>Restricciones Compuestas</strong> (user_id + role), permitiendo la coexistencia de múltiples “sombreros” para una misma cabeza.</p>
<p><strong>Ejemplos Prácticos de Uso:</strong></p>
<p><strong>El Caso “Administrador-Residente” (Sandra):</strong> Sandra es dueña de la empresa administradora del “Centro Comercial San Diego” y, a su vez, es propietaria personal del Local C-4.</p>
<p><strong>Flujo:</strong>  Sandra inicia sesión y entra por defecto a su <strong>Perfil Admin</strong>. Ve las finanzas globales, cuentas por cobrar y gestión de proveedores. De repente, necesita pagar la deuda de su propio local.</p>
<p><strong>Acción:</strong>  No necesita salir. Despliega su menú de usuario, selecciona “Sandra (Propietaria Local C-4)”. La interfaz se recarga instantáneamente: desaparecen los botones de configuración global y aparece su botón de “Pagar Recibo”. Realiza el pago. Al terminar, vuelve a conmutar a “Perfil Admin” y ve el pago que ella misma acaba de realizar, procediendo a conciliarlo con total transparencia.</p>
<p><strong>El Caso “Propietario-Operativo” (Carlos):</strong> Carlos vive en el Apto 1-B, pero ha sido contratado temporalmente como jardinero del edificio.</p>
<p><strong>Flujo:</strong>  En su día libre, Carlos entra a la App con su <strong>Perfil Propietario</strong> para reservar el Salón de Fiesta. El sistema le cobra la tarifa de residente.</p>
<p><strong>Acción:</strong>  Al día siguiente, inicia su jornada laboral. Conmuta a <strong>Perfil Staff-Mantenimiento</strong>. Ahora la App le muestra su lista de tareas (“Podar área norte”) y le permite reportar incidencias. En este modo, el sistema le bloquea el acceso a ver las deudas de sus vecinos o información sensible de la junta, garantizando la privacidad de la comunidad aunque él sea residente</p>
<h2 id="gestión-de-núcleo-familiar-y-co-responsabilidad-digital-delegación-de-identidad"><strong>Gestión de Núcleo Familiar y Co-Responsabilidad Digital (Delegación de Identidad):</strong></h2>
<p>Para resolver la problemática de seguridad que implica el “compartir contraseñas” entre familiares, y para aliviar la carga operativa de la Administración en el registro de habitantes, el sistema implementa una arquitectura de <strong>“Unidad Multipropietario”</strong>. Bajo este esquema, la Unidad Habitacional (Apartamento/Local) actúa como la entidad central de la cual pueden depender múltiples GlobalUsers independientes. El sistema establece una jerarquía de poder dentro del inmueble:</p>
<p><strong>El Propietario Titular:</strong> Es el único registrado por la Administración. Posee privilegios de “Administrador de Hogar”.</p>
<p><strong>Los Co-Residentes:</strong> Son usuarios (cónyuges, hijos, inquilinos) invitados y gestionados directamente por el Titular, sin intervención de la Junta de Condominio. Esto permite descentralizar la actualización de la data de residentes (Self-Service) y garantiza la trazabilidad individual de las acciones (saber exactamente quién reservó el área común o quién generó un pase de visita), manteniendo la deuda y las obligaciones legales unificadas a nivel del inmueble y no de las personas.</p>
<p><strong>Tecnología Aplicada:</strong> Se implementará un sistema de <strong>Invitaciones Tokenizadas</strong> en la App Nativa. El Titular genera un enlace de invitación (Deep Link) que se envía por WhatsApp al familiar. Al hacer clic, el Backend asocia el nuevo GlobalUser del familiar al unit_id existente mediante un registro en TenantProfile con rol RESIDENTE o CO-PROPIETARIO. Para la gestión de eventos concurrentes, se utilizará una lógica de <strong>Sincronización de Estado vía WebSockets (Django Channels)</strong> y notificaciones <strong>Fan-Out (Firebase Cloud Messaging)</strong>. Esto significa que cuando un evento crítico ocurre sobre la Unidad (ej: “Pago Realizado” o “Llegada de Agua”), el servidor difunde la notificación Push simultáneamente a todos los dispositivos vinculados a esa unidad (Broadcast to Unit Topic). A su vez, para acciones de unicidad estricta como las <strong>Votaciones</strong>, el Backend aplicará bloqueos a nivel de unit_id (Semáforos de Base de Datos), impidiendo que dos usuarios del mismo apartamento ejerzan el voto duplicado.</p>
<p><strong>Ejemplo Práctico de Uso:</strong> La Administradora registra únicamente al Sr. Pedro (Padre) en el Apto 1-B. Pedro descarga la App y entra al menú “Mi Hogar”. Desde allí, envía invitaciones por WhatsApp a su esposa María y a su hija Ana. Ellas crean sus propios usuarios y contraseñas.</p>
<p><strong>Sincronización Financiera:</strong> Pedro paga el condominio desde su oficina. En tiempo real, la App de María (en su trabajo) recibe una notificación push: <em>“Pago de Condominio registrado por Pedro”</em>, y el saldo deudor en su pantalla baja a cero instantáneamente.</p>
<p><strong>Seguridad y Voto:</strong> Se convoca una Asamblea. María entra y vota “NO” a la pintura de fachada. Minutos después, Pedro intenta entrar a votar. El sistema le muestra un bloqueo: <em>“El voto de esta unidad ya fue ejercido por María el día de hoy”</em>, garantizando la integridad democrática del condominio</p>
<h2 id="precisión-numérica-gestión-cambiaria-e-integridad-financiera"><strong>Precisión numérica, Gestión cambiaria e Integridad financiera:</strong></h2>
<p><strong>Precisión Decimal:</strong> Python maneja matemáticas financieras (librería decimal) mejor que Javascript. Para un sistema multimoneda (Bs/USD) esto es vital para evitar errores de redondeo. Respecto al origen de la tasa de cambio, el sistema implementará un ‘Módulo de Tasas’ (Exchange Rate Oracle) que actualizará el valor automáticamente mediante conexión a la fuente oficial (BCV); no obstante, dada la inestabilidad de las fuentes externas, se integrará un mecanismo de ‘Sobrescritura Manual’ (Manual Override) con prioridad absoluta, permitiendo a los administradores fijar la tasa inmediatamente si el servicio automático falla. Adicionalmente, para mitigar errores o intentos de fraude en el registro de pagos (común en transferencias y Pago Móvil), se implementará a nivel de base de datos una restricción de unicidad (Unique Constraint) compuesta por los campos <em>‘Banco Origen + Número de Referencia + Fecha + Monto’</em>, impidiendo físicamente la duplicidad de transacciones.</p>
<h2 id="seguridad"><strong>Seguridad:</strong></h2>
<p>Se implementará seguridad de grado bancario “out of the box” (protección contra SQL Injection, XSS, CSRF). Frameworks como Django traen esto listo para usarse. Adicionalmente, la autenticación mediante JWT incluirá una estrategia de ‘Rotación de Refresh Tokens’ y listas negras (Blacklist). Esto permitirá cerrar sesiones remotamente en caso de robo de dispositivos móviles y forzar el cierre de sesión por inactividad (Timeout), protegiendo la data financiera de los condominios en entornos compartidos.<br>
Más allá de la seguridad informática, se requiere seguridad administrativa (Transparencia). Se implementará un sistema de ‘Traza de Auditoría’ (Audit Logs) utilizando la librería django-simple-history. Esto registrará inmutablemente cada creación, modificación o eliminación de registros financieros (quién lo hizo, cuándo y qué valor tenía antes), proporcionando una ‘Caja Negra’ indispensable para dirimir disputas entre administradores y propietarios.<br>
Para evitar que esta tabla histórica crezca descontroladamente y degrade el rendimiento de la base de datos a largo plazo, se definirá desde el inicio una política de “Archivado de Logs” (Cold Storage); automatizando un proceso que mueva los registros históricos con antigüedad mayor a 24 meses a un almacenamiento externo económico (como archivos CSV/Parquet en S3), manteniendo la base de datos principal ligera y rápida. Sin embargo, para garantizar el derecho a la defensa y la transparencia, se habilitará en el panel administrativo una función de ‘Consulta Histórica’ que permita rehidratar y visualizar estos registros archivados bajo demanda, aunque su tiempo de carga sea mayor al de los datos recientes.</p>
<h2 id="ia-y-manejo-de-datos"><strong>IA y Manejo de datos:</strong></h2>
<p>Al usar IA para optimizar procesos, siendo que Python es el lenguaje nativo de la IA, integrar agentes que analicen la morosidad o sugieran acciones será trivial en Python.</p>
<h2 id="framework-a-ser-utilizado-en-el-saas-y-librerías-clave"><strong>Framework a ser utilizado en el SaaS y librerías clave:</strong></h2>
<p>Django REST Framework (DRF). django-tenants: Para manejar el Multi-tenant (esquemas separados en Postgres). django-money: Para manejo estricto de divisas.<br>
Para garantizar que el servidor nunca se bloquee por tareas pesadas (como generar balances en PDF masivos, cálculos de intereses morosos o envío de correos masivos), se implementará una arquitectura de procesamiento asíncrono utilizando Celery acompañado de Redis como gestor de colas (Message Broker). Esto permitirá que el backend responda inmediatamente a la petición del usuario mientras la tarea pesada se procesa en segundo plano.<br>
Respecto de las migraciones: cuando se haga un cambio en la base de datos (ej: agregar campo “Teléfono”), el sistema tendrá que correr ese cambio en todos los esquemas (edificios). Si tienes 1000 edificios, la actualización puede tardar. Solución para el Prompt de IA: Cuando se le pida código al agente de codificación se especificará: <em>“Implementa estrategias de Migraciones por Lotes (Batch Migrations) y asegúrate de que las operaciones de base de datos sean Non-Blocking (ej: crear índices concurrentemente) para evitar tiempos de inactividad masivos al actualizar miles de esquemas (tenants)”</em>.<br>
A su vez, es obligatorio implementar Versionado de API en las rutas (ej: /api/v1/…). Esto es un requisito de arquitectura crítico para garantizar la retro-compatibilidad con la App Nativa. Finalmente, para garantizar una integración fluida entre el Backend y los equipos de Frontend, se implementará drf-spectacular para generar documentación OpenAPI 3. Para garantizar la estabilidad del servicio ante picos de tráfico, se configurará el sistema de ‘Throttling’ (Rate Limiting) nativo de DRF. Finalmente, para la observabilidad del sistema, se integrará el SDK de Sentry.</p>
<h2 id="gestión-de-archivos-multimedia-media-handling"><strong>Gestión de Archivos Multimedia (Media Handling):</strong></h2>
<p>Para garantizar cargas instantáneas y optimizar costos de almacenamiento, se prohíbe el almacenamiento de archivos binarios (imágenes/PDFs) dentro de la base de datos. Se utilizará django-storages conectado a un servicio de almacenamiento de objetos en la nube (como AWS S3, DigitalOcean Spaces o Cloudflare R2). Para garantizar el aislamiento estricto de la información entre diferentes condominios (Multi-tenant) en la nube, se forzará una estructura de directorios segregada por tenant_id dentro del Bucket (ej: /tenant_123/comprobantes/…). El acceso a estos archivos será privado por defecto; el Backend se encargará de validar que el usuario pertenezca al Tenant correcto antes de generar y entregar una ‘URL Firmada’ temporal (Signed URL) para la visualización segura del archivo, impidiendo el acceso cruzado no autorizado</p>
<h2 id="frontend-web-saas-y-web-móvil"><strong>Frontend Web (SaaS y Web Móvil):</strong></h2>
<p>Tecnología: React.js (usando Vite), el manejo de la memoria se realizará con TanStack Query (ReactQuery). UI Framework y Estética: Se utilizará Tailwind CSS + Shadcn/UI. Vista la exigencia de un diseño “femenino, relajante y profesional”, se realizará una personalización profunda del sistema de diseño (Theming). No se utilizará la apariencia por defecto de Shadcn (que tiende a ser técnica/minimalista), sino que se configurarán variables de Tailwind específicas (colores pasteles/suaves, bordes redondeados, tipografías humanistas) para transformar los componentes base en una interfaz cálida y acogedora que proyecte la psicología deseada. Responsividad: React permite crear una interfaz que se “reacomoda” perfectamente en el navegador del celular.<br>
Sistema de Diseño (Source of Truth): Para blindar la coherencia estética exigida entre la plataforma Web y la futura App Nativa, se implementará Storybook de manera integral y obligatoria. Esta herramienta servirá como la ‘Fuente de la Verdad’ absoluta del Sistema de Diseño. En ella se documentarán, catalogarán y probarán de forma aislada todos los componentes visuales (desde botones simples hasta tarjetas complejas de deuda) antes de integrarlos. Esto incluirá obligatoriamente el diseño de las plantillas de Correo Electrónico (mjml/HTML), garantizando que las notificaciones transaccionales de respaldo mantengan la misma identidad visual, paleta de colores relajante y tipografía que la aplicación principal. Esto es un requisito crítico para que los Agentes de IA tengan una referencia visual estricta y puedan replicar la misma experiencia de usuario (UX) exacta y sin discrepancias tanto en React (Web) como en React Native (Móvil).<br>
Optimización de Carga: Se implementará la librería browser-image-compression para convertir imágenes a WebP y comprimirlas en el navegador antes de la subida.</p>
<h2 id="aseguramiento-de-la-calidad-qa-y-testing"><strong>Aseguramiento de la Calidad (QA y Testing):</strong></h2>
<p>Dado que el sistema maneja dinero y datos legales sensibles, se prohíbe confiar ciegamente en el código generado. Se implementará Pytest como suite de pruebas. Se establece como regla de desarrollo que cada módulo crítico (cálculo de alícuotas, conversión de divisas, generación de deuda) debe incluir sus Tests Unitarios automatizados para validar matemáticamente la lógica. Esto servirá de “red de seguridad” para evitar regresiones cuando la IA realice refactorizaciones.</p>

